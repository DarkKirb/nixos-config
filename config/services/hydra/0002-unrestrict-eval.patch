From 97e90672d88b5d9fd1d424d3360a36d3763efcc3 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Charlotte=20=F0=9F=A6=9D=20Delenk?= <lotte@chir.rs>
Date: Sat, 23 Dec 2023 10:43:51 +0100
Subject: [PATCH 2/8] unrestrict eval

---
 src/hydra-eval-jobs/hydra-eval-jobs.cc | 4 ----
 1 file changed, 4 deletions(-)

diff --git a/src/hydra-eval-jobs/hydra-eval-jobs.cc b/src/hydra-eval-jobs/hydra-eval-jobs.cc
index 5adea42b..1b71dddd 100644
--- a/src/hydra-eval-jobs/hydra-eval-jobs.cc
+++ b/src/hydra-eval-jobs/hydra-eval-jobs.cc
@@ -321,10 +321,6 @@ int main(int argc, char * * argv)
         /* FIXME: The build hook in conjunction with import-from-derivation is causing "unexpected EOF" during eval */
         settings.builders = "";
 
-        /* Prevent access to paths outside of the Nix search path and
-           to the environment. */
-        evalSettings.restrictEval = true;
-
         /* When building a flake, use pure evaluation (no access to
            'getEnv', 'currentSystem' etc. */
         evalSettings.pureEval = pureEval;
-- 
2.46.0

